(()=>{"use strict";var e,r,t,a={6024:(e,r,t)=>{t(6066),t(6699),t(5827),t(6644),t(3792),t(9244),t(5438),t(8559),t(8674),t(7922),t(7727),t(4603),t(4916),t(2087),t(6373),t(5306),t(4197),t(6495),t(7145),t(5109),t(5125),t(2472),t(9743),t(8255),t(9135),t(8145),t(5206),t(3462),t(3824),t(8628),t(0),t(3475),t(6273),t(6342),t(787),t(3647),t(8216),t(8449),t(1672),t(4039),t(5581),t(8631),t(7640),t(5387),t(4211),t(2771),t(2962),t(1568),t(6349),t(2490),t(5567),t(5332),t(9433),t(9849),t(9461),t(2499),t(4514),t(6877),t(9924),t(2608),t(1874),t(6043),t(3748),t(72),t(9137),t(1957),t(6306),t(103),t(8582),t(618),t(4592),t(8440),t(8276),t(5082),t(2813),t(8222),t(4838),t(8563),t(336),t(7512),t(4442),t(7713),t(6603),t(100),t(6429),t(3187),t(92),t(9041),t(666),t(1638),t(2975),t(5728),t(6056),t(4299),t(5162),t(292),t(9964),t(5238),t(4987),t(1025),t(6290),t(7479),t(4582),t(7896),t(2647),t(8558),t(4018),t(7507),t(1605),t(9076),t(4999),t(8921),t(6248),t(3599),t(1477),t(3066),t(5389),t(6006),t(401),t(5164),t(1238),t(4837),t(7485),t(465),t(9916),t(6651),t(1437),t(5285),t(9865),t(6035),t(7501),t(7207),t(609),t(5849),t(8824),t(4130),t(5954),t(8206),t(6478),t(9715),t(5964),t(3561),t(2049),t(6020),t(6585),t(3948),t(4633),t(5844),t(285),t(3753),t(1637);var a=t(745),s=t(5998),o=t(7294),n=t(1570),i=t(2689),l=t(6974),c=t(2634),d=t(5857),h=t(5476),u=t(5648),p=t(9127),f=t(2677),g=t(7563),m=t(3610),v=t(6536),j=t(4978);const x=e=>e.replace(/.+people\/(\d+)\/$/,"$1"),b=new f.fK.Entity("characters",{},{idAttribute:({url:e})=>x(e),processStrategy:e=>({id:x(e.url),name:e.name,gender:e.gender,birthYear:e.birth_year,height:e.height,mass:e.mass,hairColor:e.hair_color,skinColor:e.skin_color,eyeColor:e.eye_color})}),y={characters:{getList:e=>(({url:e,params:r})=>{const t=g.stringify(r);let a=`https://swapi.dev/api${e}`;return t&&(a+=`?${t}`),(e=>(0,v.U)(e).pipe((0,j.w)((e=>e.ok?e.json():(0,m._)((()=>e))))))(a)})({url:"/people/",params:e}).pipe((0,p.U)((e=>(0,f.Fv)(e,{results:[b]}))))}},O=(0,c.oM)({name:"characters",initialState:{},reducers:{store:(e,{payload:r})=>{Object.assign(e,r)}}}),{store:w}=O.actions,_=O.reducer,P=(0,d.UY)({characters:_}),k=(0,c.oM)({name:"charactersList",initialState:{page:1,loading:!1,hasNextPage:!1,error:null,items:[],total:0},reducers:{fetch:(e,{payload:r})=>{e.loading=!0,e.page=r.page,e.error=null,1===r.page&&(e.items=[])},nextPage:(e,{payload:r})=>{e.page=r},reset:e=>{e.page=1,e.items=[]},fetchFulfilled:(e,{payload:r})=>{e.loading=!1,e.hasNextPage=Boolean(r.result.next),e.items=e.items.concat(r.result.results),e.total=r.result.count},fetchFailed:e=>{e.loading=!1,e.error=!0}}}),{fetch:C,fetchFulfilled:Z,fetchFailed:N,reset:S,nextPage:U}=k.actions,M=k.reducer,E=(0,d.UY)({charactersList:M});var F=t(6278),T=t(5069),Y=t(9609),A=t(2817),L=t(4975),B=t(3741),I=t(2219),q=t(9878),W=t(7753),$=t(573);const z={home:"/",details:"/:id"},D=e=>e.router,X=e=>D(e).location,G=(0,$.P1)((e=>X(e).pathname),(e=>Object.entries(z).reduce(((r,[t,a])=>(0,l.LX)(a,e)?t:r),null))),H=(0,$.P1)((e=>X(e).search),g.parse),K=e=>e.widgets.charactersList,Q=e=>K(e).loading,R=e=>K(e).page,V=e=>K(e).hasNextPage,J=e=>K(e).items,ee=e=>0===K(e).total,re=(0,$.P1)(G,(e=>"home"===e)),te=(0,$.P1)(H,(({query:e})=>e&&!Array.isArray(e)?e:void 0)),ae=(0,$.P1)([R,te],((e,r)=>({page:e,search:r}))),se=(0,F.l)(((e,r,{api:t})=>e.pipe((0,T.l)(C),(0,j.w)((({payload:e})=>t.characters.getList(e).pipe((0,p.U)((r=>Z({...e,...r}))),(0,q.K)((()=>(0,A.of)(N())))))))),((e,r)=>r.pipe((0,p.U)(te),(0,B.x)(),(0,W.T)(1),(0,p.U)((()=>S())))),((e,r)=>r.pipe((0,L.h)(re),(0,p.U)(ae),(0,B.x)(Y.fS0),(0,I.b)(100),(0,p.U)((e=>C(e))))),(e=>e.pipe((0,T.l)(Z),(0,L.h)((({payload:e})=>e.result.count>0)),(0,p.U)((({payload:e})=>w(e.entities.characters)))))),oe=(0,F.l)(se),ne=(0,u.q_)(),ie=(0,d.UY)({collections:P,widgets:E,router:(0,i.e3)(ne)}),le=(0,i.Bn)(ne),ce=(0,h.k)({dependencies:{api:y}}),de=(0,c.xC)({reducer:ie,devTools:!1,middleware:e=>e({thunk:!1}).concat(ce,le)});ce.run(oe);const he=de;var ue=t(5893);const pe=({children:e})=>(0,ue.jsx)("div",{className:"UyIzsa6Yohnb_ZEhiZwv",children:e});var fe=t(3129),ge=t(9062);const me=()=>{const e=(0,s.v9)(Q),r=(0,s.v9)(V),t=(0,s.v9)(R),a=(0,s.I0)(),n=(0,o.useCallback)((()=>{a(U(t+1))}),[t,a]);return r?(0,ue.jsx)("footer",{className:"b_A72Hp4SXH3MjRNbGdf",children:e?(0,ue.jsx)(ge.Z,{}):(0,ue.jsx)(fe.Z,{variant:"outlined",onClick:n,children:"Load next page"})}):null};var ve=t(6515),je=t(9629);const xe=(e,r,t)=>{let a=(0,l.Gn)(z[e],r);const s=t?g.stringify((0,Y.D95)(Boolean,t)):void 0;return s&&(a+=`?${s}`),a},be=()=>{const e=(0,s.I0)(),[r]=(0,o.useState)((()=>new ve.X(""))),t=(0,o.useCallback)((e=>{r.next(e.target.value)}),[r]);return(0,o.useEffect)((()=>{r.pipe((0,I.b)(400)).subscribe((r=>{e((0,i.VF)(xe("home",{},{query:r})))}))}),[r,e]),(0,ue.jsx)("header",{className:"dXWaCG3eJ37OmvN0gS8Q",children:(0,ue.jsx)(je.Z,{onChange:t,className:"rtgo5o9EExuluxuCZb0Q",type:"search",label:"Search characters by name",variant:"standard"})})};var ye=t(5725),Oe=t(2658),we=t(5295),_e=t(2643),Pe=t(9161);const ke=e=>e.collections.characters,Ce=({id:e,className:r})=>{const t=(0,s.I0)(),a=(0,o.useMemo)((()=>(e=>(0,$.P1)(ke,(r=>r[e])))(e)),[e]),n=(0,o.useMemo)((()=>xe("details",{id:e})),[e]),l=(0,s.v9)(a),c=(0,o.useCallback)((()=>{t((0,i.VF)(n))}),[t,n]);return(0,ue.jsxs)(we.Z,{className:r,children:[(0,ue.jsxs)(_e.Z,{children:[(0,ue.jsx)(Oe.Z,{variant:"h5",component:"div",children:l.name}),(0,ue.jsx)(Oe.Z,{color:"text.secondary",children:l.birthYear}),(0,ue.jsxs)(Oe.Z,{variant:"body2",children:["hair color is"," ",l.hairColor,(0,ue.jsx)("br",{}),"and skin color is"," ",l.skinColor]})]}),(0,ue.jsx)(Pe.Z,{children:(0,ue.jsx)(fe.Z,{size:"small",onClick:c,children:"Learn More"})})]})},Ze=()=>{const e=(0,s.v9)(J),r=(0,s.v9)(ee),t=(0,s.v9)(Q);if(r){if(!t)return(0,ue.jsx)(Oe.Z,{variant:"overline",display:"block",gutterBottom:!0,children:"Characters with this name not found"});if(t)return(0,ue.jsx)(ge.Z,{})}return(0,ue.jsx)(ye.ZP,{container:!0,children:e.map((e=>(0,ue.jsx)(Ce,{className:"dgzACY7qD2_EYEOBRuYI",id:e},e)))})},Ne=()=>(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(be,{}),(0,ue.jsx)(Ze,{}),(0,ue.jsx)(me,{})]}),Se=t.p+"22d3024dfc7613aaadd1f1e5ec7e6896.jpeg",Ue=()=>(0,ue.jsx)("div",{children:(0,ue.jsx)("img",{className:"MhFHONwArE135qMdWWOS",src:Se,alt:"Damn!"})}),Me=(0,n.w)((()=>(0,ue.jsx)(pe,{children:(0,ue.jsx)(i.DU,{routerSelector:D,store:he,history:ne,enableTimeTravelling:!0,children:(0,ue.jsxs)(l.Z5,{children:[(0,ue.jsx)(l.AW,{path:z.home,element:(0,ue.jsx)(Ne,{})}),(0,ue.jsx)(l.AW,{path:z.details,element:(0,ue.jsx)(Ue,{})})]})})}))),Ee=document.getElementById("root");(0,a.s)(Ee).render((0,ue.jsx)(s.zt,{store:he,children:(0,ue.jsx)(Me,{})}))}},s={};function o(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return a[e](t,t.exports,o),t.exports}o.m=a,e=[],o.O=(r,t,a,s)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,a,s]=e[d],i=!0,l=0;l<t.length;l++)(!1&s||n>=s)&&Object.keys(o.O).every((e=>o.O[e](t[l])))?t.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(d--,1);var c=a();void 0!==c&&(r=c)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[t,a,s]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var s=Object.create(null);o.r(s);var n={};r=r||[null,t({}),t([]),t(t)];for(var i=2&a&&e;"object"==typeof i&&!~r.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((r=>n[r]=()=>e[r]));return n.default=()=>e,o.d(s,n),s},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="",(()=>{var e={179:0};o.O.j=r=>0===e[r];var r=(r,t)=>{var a,s,[n,i,l]=t,c=0;if(n.some((r=>0!==e[r]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var d=l(o)}for(r&&r(t);c<n.length;c++)s=n[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},t=globalThis.webpackChunkstar_wars=globalThis.webpackChunkstar_wars||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var n=o.O(void 0,[736],(()=>o(6024)));n=o.O(n)})();