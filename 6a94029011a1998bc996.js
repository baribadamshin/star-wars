(()=>{"use strict";var e,r,t,a={52856:(e,r,t)=>{t(16066),t(26699),t(85827),t(96644),t(33792),t(99244),t(25438),t(38559),t(88674),t(17922),t(17727),t(24603),t(74916),t(92087),t(76373),t(15306),t(44197),t(76495),t(87145),t(35109),t(65125),t(82472),t(49743),t(8255),t(29135),t(98145),t(95206),t(3462),t(33824),t(8628),t(8e4),t(83475),t(46273),t(66342),t(40787),t(23647),t(68216),t(88449),t(31672),t(74326),t(15581),t(78631),t(57640),t(25387),t(64211),t(12771),t(62962),t(51568),t(26349),t(2490),t(85567),t(5332),t(79433),t(59849),t(59461),t(82499),t(34514),t(26877),t(9924),t(72608),t(41874),t(66043),t(23748),t(10072),t(99137),t(71957),t(96306),t(103),t(8582),t(90618),t(74592),t(88440),t(58276),t(35082),t(12813),t(18222),t(24838),t(38563),t(50336),t(7512),t(74442),t(87713),t(46603),t(70100),t(10490),t(13187),t(60092),t(19041),t(30666),t(51638),t(62975),t(15728),t(46056),t(44299),t(5162),t(50292),t(99964),t(75238),t(4987),t(1025),t(96290),t(77479),t(34582),t(47896),t(12647),t(98558),t(84018),t(97507),t(61605),t(49076),t(34999),t(88921),t(96248),t(13599),t(11477),t(64362),t(15389),t(46006),t(90401),t(45164),t(91238),t(54837),t(87485),t(56767),t(69916),t(76651),t(61437),t(35285),t(39865),t(86035),t(67501),t(27207),t(609),t(21568),t(48824),t(44130),t(35954),t(78206),t(76478),t(79715),t(5964),t(43561),t(32049),t(86020),t(56585),t(33948),t(84633),t(85844),t(60285),t(83753),t(41637);var a=t(20745),s=t(95998),n=t(67294),o=t(71570),i=t(2689),l=t(96974),c=t(97168),d=t(15857),h=t(25476),u=t(55648),p=t(29127),f=t(82677),g=t(9669),m=t.n(g),x=t(87877),v=t(79635),j=t(32817),b=t(83610);const y=e=>e.replace(/.+people\/(\d+)\/$/,"$1"),O=new f.fK.Entity("characters",{},{idAttribute:({url:e})=>y(e),processStrategy:e=>({id:y(e.url),name:e.name,gender:e.gender,birthYear:e.birth_year,height:e.height,mass:e.mass,hairColor:e.hair_color,skinColor:e.skin_color,eyeColor:e.eye_color})}),w={characters:{getList:e=>(({url:e,params:r})=>(0,v.D)(m().get(e,{baseURL:"https://swapi.dev/api",params:r})).pipe((0,x.z)((({status:e,data:r})=>200===e?(0,j.of)(r):(0,b._)(r)))))({url:"/people/",params:e}).pipe((0,p.U)((e=>(0,f.Fv)(e,{results:[O]}))))}},_=(0,c.oM)({name:"characters",initialState:{},reducers:{save:(e,{payload:r})=>{Object.assign(e,r)}}}),{save:P}=_.actions,k=_.reducer,C=(0,d.UY)({characters:k}),Z=(0,c.oM)({name:"charactersList",initialState:{page:1,loading:!1,hasNextPage:!1,error:null,items:[]},reducers:{fetch:(e,{payload:r})=>{e.loading=!0,e.page=r.page,e.error=null},reset:e=>{e.page=1,e.items=[]},fetchFulfilled:(e,{payload:r})=>{e.loading=!1,e.hasNextPage=Boolean(r.result.next),e.items=e.items.concat(r.result.results)},fetchFailed:e=>{e.loading=!1,e.error=!0}}}),{fetch:N,fetchFulfilled:S,fetchFailed:F,reset:U}=Z.actions,M=Z.reducer,E=(0,d.UY)({charactersList:M});var T=t(76278),L=t(15069),W=t(41659),Y=t(94975),z=t(53741),A=t(34978),I=t(79878),q=t(47753),B=t(20573),D=t(17563);const V={home:"/",details:"/:id"},$=e=>e.router,G=e=>$(e).location,Q=(0,B.P1)((e=>G(e).pathname),(e=>Object.entries(V).reduce(((r,[t,a])=>(0,l.LX)(a,e)?t:r),null))),X=(0,B.P1)((e=>G(e).search),D.parse),H=e=>e.widgets.charactersList,J=e=>H(e).loading,K=e=>H(e).page,R=e=>H(e).hasNextPage,ee=e=>H(e).items,re=(0,B.P1)(Q,(e=>"home"===e)),te=(0,B.P1)(X,(({query:e})=>{if(e&&!Array.isArray(e))return e})),ae=(0,B.P1)([K,te],((e,r)=>({page:e,search:r}))),se=(0,T.l)(((e,r)=>r.pipe((0,p.U)(te),(0,z.x)(),(0,q.T)(1),(0,p.U)((()=>U())))),((e,r,{api:t})=>r.pipe((0,Y.h)(re),(0,p.U)(ae),(0,z.x)(W.fS0),(0,A.w)((e=>t.characters.getList(e).pipe((0,p.U)((r=>S({...e,...r}))),(0,I.K)((()=>(0,j.of)(F())))))))),(e=>e.pipe((0,L.l)(S),(0,p.U)((({payload:e})=>P(e.entities.characters)))))),ne=(0,T.l)(se),oe=(0,u.q_)(),ie=(0,d.UY)({collections:C,widgets:E,router:(0,i.e3)(oe)}),le=(0,i.Bn)(oe),ce=(0,h.k)({dependencies:{api:w}}),de=(0,c.xC)({reducer:ie,devTools:!1,middleware:e=>e({thunk:!1}).concat(ce,le)});ce.run(ne);const he=de;var ue=t(85893);const pe=({children:e})=>(0,ue.jsx)("div",{className:"UyIzsa6Yohnb_ZEhiZwv",children:e});var fe=t(15725),ge=t(59062),me=t(83129);const xe=()=>{const e=(0,s.v9)(J),r=(0,s.v9)(R),t=(0,s.v9)(K),a=(0,s.I0)(),o=(0,n.useCallback)((()=>{a(N({page:t+1}))}),[t,a]);return r?e?(0,ue.jsx)(ge.Z,{}):(0,ue.jsx)(me.Z,{variant:"outlined",onClick:o,children:"Load next page"}):null};var ve=t(16716),je=t(52219),be=t(59629);const ye=()=>{const e=(0,s.I0)(),[r]=(0,n.useState)((()=>new ve.x)),t=(0,n.useCallback)((e=>{r.next(e.target.value)}),[r]);return(0,n.useEffect)((()=>{r.pipe((0,je.b)(400)).subscribe((r=>{r.length?e((0,i.VF)(`${V.home}?query=${r}`)):e((0,i.VF)(V.home))}))}),[r,e]),(0,ue.jsx)("header",{className:"dXWaCG3eJ37OmvN0gS8Q",children:(0,ue.jsx)(be.Z,{onChange:t,className:"rtgo5o9EExuluxuCZb0Q",type:"search",label:"Search characters by name",variant:"standard"})})};var Oe=t(65295),we=t(42643),_e=t(2658),Pe=t(49161);const ke=e=>e.collections.characters,Ce=({id:e,className:r})=>{const t=(0,s.I0)(),a=(0,n.useMemo)((()=>(e=>(0,B.P1)(ke,(r=>r[e])))(e)),[e]),o=(0,n.useMemo)((()=>(0,l.Gn)(V.details,{id:e})),[e]),c=(0,s.v9)(a),d=(0,n.useCallback)((()=>{t((0,i.VF)(o))}),[t,o]);return(0,ue.jsxs)(Oe.Z,{className:r,children:[(0,ue.jsxs)(we.Z,{children:[(0,ue.jsx)(_e.Z,{variant:"h5",component:"div",children:c.name}),(0,ue.jsx)(_e.Z,{color:"text.secondary",children:c.birthYear}),(0,ue.jsxs)(_e.Z,{variant:"body2",children:["hair color is"," ",c.hairColor,(0,ue.jsx)("br",{}),"and skin color is"," ",c.skinColor]})]}),(0,ue.jsx)(Pe.Z,{children:(0,ue.jsx)(me.Z,{size:"small",onClick:d,children:"Learn More"})})]})},Ze=()=>{const e=(0,s.v9)(ee);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(ye,{}),0===e.length?(0,ue.jsx)(ge.Z,{}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(fe.ZP,{container:!0,children:e.map((e=>(0,ue.jsx)(Ce,{className:"GWbPqDOWQ_zvVXNVIBWY",id:e},e)))}),(0,ue.jsx)("footer",{className:"Bzcx3cxJbkSufEDo6H2C",children:(0,ue.jsx)(xe,{})})]})]})},Ne=t.p+"22d3024dfc7613aaadd1f1e5ec7e6896.jpeg",Se=()=>(0,ue.jsx)("div",{children:(0,ue.jsx)("img",{className:"MhFHONwArE135qMdWWOS",src:Ne,alt:"Damn!"})}),Fe=(0,o.w)((()=>(0,ue.jsx)(pe,{children:(0,ue.jsx)(i.DU,{routerSelector:$,store:he,history:oe,enableTimeTravelling:!0,children:(0,ue.jsxs)(l.Z5,{children:[(0,ue.jsx)(l.AW,{path:V.home,element:(0,ue.jsx)(Ze,{})}),(0,ue.jsx)(l.AW,{path:V.details,element:(0,ue.jsx)(Se,{})})]})})}))),Ue=document.getElementById("root");(0,a.s)(Ue).render((0,ue.jsx)(s.zt,{store:he,children:(0,ue.jsx)(Fe,{})}))}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return a[e](t,t.exports,n),t.exports}n.m=a,e=[],n.O=(r,t,a,s)=>{if(!t){var o=1/0;for(d=0;d<e.length;d++){for(var[t,a,s]=e[d],i=!0,l=0;l<t.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](t[l])))?t.splice(l--,1):(i=!1,s<o&&(o=s));if(i){e.splice(d--,1);var c=a();void 0!==c&&(r=c)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[t,a,s]},n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var s=Object.create(null);n.r(s);var o={};r=r||[null,t({}),t([]),t(t)];for(var i=2&a&&e;"object"==typeof i&&!~r.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((r=>o[r]=()=>e[r]));return o.default=()=>e,n.d(s,o),s},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{var e={179:0};n.O.j=r=>0===e[r];var r=(r,t)=>{var a,s,[o,i,l]=t,c=0;if(o.some((r=>0!==e[r]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var d=l(n)}for(r&&r(t);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},t=globalThis.webpackChunkstar_wars=globalThis.webpackChunkstar_wars||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=n.O(void 0,[736],(()=>n(52856)));o=n.O(o)})();