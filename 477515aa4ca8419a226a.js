(()=>{"use strict";var e,r,a,t={49668:(e,r,a)=>{a(16066),a(26699),a(85827),a(96644),a(33792),a(99244),a(25438),a(38559),a(88674),a(17922),a(17727),a(24603),a(74916),a(92087),a(76373),a(15306),a(44197),a(76495),a(87145),a(35109),a(65125),a(82472),a(49743),a(8255),a(29135),a(98145),a(95206),a(3462),a(33824),a(8628),a(8e4),a(83475),a(46273),a(66342),a(40787),a(23647),a(68216),a(88449),a(31672),a(74326),a(15581),a(78631),a(57640),a(25387),a(64211),a(12771),a(62962),a(51568),a(26349),a(2490),a(85567),a(5332),a(79433),a(59849),a(59461),a(82499),a(34514),a(26877),a(9924),a(72608),a(41874),a(66043),a(23748),a(10072),a(99137),a(71957),a(96306),a(103),a(8582),a(90618),a(74592),a(88440),a(58276),a(35082),a(12813),a(18222),a(24838),a(38563),a(50336),a(7512),a(74442),a(87713),a(46603),a(70100),a(10490),a(13187),a(60092),a(19041),a(30666),a(51638),a(62975),a(15728),a(46056),a(44299),a(5162),a(50292),a(99964),a(75238),a(4987),a(1025),a(96290),a(77479),a(34582),a(47896),a(12647),a(98558),a(84018),a(97507),a(61605),a(49076),a(34999),a(88921),a(96248),a(13599),a(11477),a(64362),a(15389),a(46006),a(90401),a(45164),a(91238),a(54837),a(87485),a(56767),a(69916),a(76651),a(61437),a(35285),a(39865),a(86035),a(67501),a(27207),a(609),a(21568),a(48824),a(44130),a(35954),a(78206),a(76478),a(79715),a(5964),a(43561),a(32049),a(86020),a(56585),a(33948),a(84633),a(85844),a(60285),a(83753),a(41637);var t=a(20745),s=a(95998),n=a(67294),i=a(71570),l=a(2689),o=a(96974),c=a(97168),d=a(15857),h=a(25476),u=a(55648),p=a(29127),f=a(82677),g=a(9669),j=a.n(g),m=a(87877),v=a(79635),x=a(32817),y=a(83610);const b=e=>e.replace(/.+people\/(\d+)\/$/,"$1"),O=new f.fK.Entity("characters",{},{idAttribute:({url:e})=>b(e),processStrategy:e=>({id:b(e.url),name:e.name,gender:e.gender,birthYear:e.birth_year,height:e.height,mass:e.mass,hairColor:e.hair_color,skinColor:e.skin_color,eyeColor:e.eye_color})}),w={characters:{getList:e=>(({url:e,params:r})=>(0,v.D)(j().get(e,{baseURL:"https://swapi.dev/api",params:r})).pipe((0,m.z)((({status:e,data:r})=>200===e?(0,x.of)(r):(0,y._)(r)))))({url:"/people/",params:e}).pipe((0,p.U)((e=>(0,f.Fv)(e,{results:[O]}))))}},P=(0,c.oM)({name:"characters",initialState:{},reducers:{fetchFulfilled:(e,{payload:r})=>{Object.assign(e,r)}}}),{fetchFulfilled:_}=P.actions,Z=P.reducer,C=(0,d.UY)({characters:Z}),N=(0,c.oM)({name:"charactersList",initialState:{page:1,loading:!1,hasNextPage:!1,error:null,items:[]},reducers:{fetch:(e,{payload:r})=>{e.loading=!0,e.page=r.page,e.error=null},reset:e=>{e.page=1,e.items=[]},fetchFulfilled:(e,{payload:r})=>{e.loading=!1,e.hasNextPage=Boolean(r.result.next),e.items=e.items.concat(r.result.results)},fetchFailed:e=>{e.loading=!1,e.error=!0}}}),{fetch:k,fetchFulfilled:F,fetchFailed:U,reset:T}=N.actions,S=N.reducer,L=(0,d.UY)({charactersList:S});var M=a(76278),E=a(15069),Y=a(94975),z=a(53741),A=a(47753),I=a(34978),V=a(79878),B=a(20573),D=a(17563);const X={home:"/",details:"/:id"},$=e=>e.router,q=e=>$(e).location,H=(0,B.P1)((e=>q(e).pathname),(e=>Object.entries(X).reduce(((r,[a,t])=>(0,o.LX)(t,e)?a:r),null))),G=(0,B.P1)((e=>q(e).search),D.parse),K=e=>e.widgets.charactersList,Q=e=>K(e).loading,R=e=>K(e).page,W=e=>K(e).hasNextPage,J=e=>K(e).items,ee=(0,B.P1)([R,H,Q],((e,r,a)=>"home"===r&&!a)),re=(0,B.P1)([R,Q,J],((e,r,a)=>0===a.length&&r)),ae=(0,B.P1)(G,(({query:e})=>{if(e&&!Array.isArray(e))return e})),te=(0,B.P1)([R,ae],((e,r)=>({page:e,search:r}))),se=(0,M.l)(((e,r)=>r.pipe((0,p.U)(ae),(0,z.x)(),(0,A.T)(1),(0,p.U)((()=>T())))),((e,r,{api:a})=>e.pipe((0,E.l)(k),(0,I.w)((({payload:e})=>a.characters.getList(e).pipe((0,p.U)((r=>F({...e,...r}))),(0,V.K)((()=>(0,x.of)(U())))))))),((e,r)=>r.pipe((0,Y.h)(ee),(0,p.U)(te),(0,z.x)(),(0,p.U)(k))),(e=>e.pipe((0,E.l)(F),(0,p.U)((({payload:e})=>_(e.entities.characters)))))),ne=(0,M.l)(se),ie=(0,u.q_)(),le=(0,d.UY)({collections:C,widgets:L,router:(0,l.e3)(ie)}),oe=(0,l.Bn)(ie),ce=(0,h.k)({dependencies:{api:w}}),de=(0,c.xC)({reducer:le,devTools:!1,middleware:e=>e({thunk:!1}).concat(ce,oe)});ce.run(ne);const he=de;var ue=a(85893);const pe=({children:e})=>(0,ue.jsx)("div",{className:"UyIzsa6Yohnb_ZEhiZwv",children:e});var fe=a(15725),ge=a(28973),je=a(83129),me=a(59062);const ve=()=>{const e=(0,s.v9)(Q),r=(0,s.v9)(W),a=(0,s.v9)(R),t=(0,s.I0)(),i=(0,n.useCallback)((()=>{t(k({page:a+1}))}),[a,t]);return r?e?(0,ue.jsx)(me.Z,{}):(0,ue.jsx)(je.Z,{variant:"outlined",onClick:i,children:"Load next page"}):null};var xe=a(16716),ye=a(52219),be=a(59629);const Oe=()=>{const e=(0,s.I0)(),[r]=(0,n.useState)((()=>new xe.x)),a=(0,n.useCallback)((e=>{r.next(e.target.value)}),[r]);return(0,n.useEffect)((()=>{r.pipe((0,ye.b)(300)).subscribe((r=>{r.length?e((0,l.VF)(`${X.home}?query=${r}`)):e((0,l.VF)(X.home))}))}),[r,e]),(0,ue.jsx)("header",{className:"IyRuOBVuk33sCPXuopF2",children:(0,ue.jsx)(be.Z,{onChange:a,className:"O2Xf1QUTzGC4TYnc5rPA",type:"search",label:"Search characters by name",variant:"standard"})})};var we=a(65295),Pe=a(42643),_e=a(2658),Ze=a(49161);const Ce=e=>e.collections.characters,Ne=({id:e,className:r})=>{const a=(0,s.I0)(),t=(0,n.useMemo)((()=>(e=>(0,B.P1)(Ce,(r=>r[e])))(e)),[e]),i=(0,n.useMemo)((()=>(0,o.Gn)(X.details,{id:e})),[e]),c=(0,s.v9)(t),d=(0,n.useCallback)((()=>{a((0,l.VF)(i))}),[a,i]);return(0,ue.jsxs)(we.Z,{className:r,children:[(0,ue.jsxs)(Pe.Z,{children:[(0,ue.jsx)(_e.Z,{variant:"h5",component:"div",children:c.name}),(0,ue.jsx)(_e.Z,{color:"text.secondary",children:c.birthYear}),(0,ue.jsxs)(_e.Z,{variant:"body2",children:["hair color is"," ",c.hairColor,(0,ue.jsx)("br",{}),"and skin color is"," ",c.skinColor]})]}),(0,ue.jsx)(Ze.Z,{children:(0,ue.jsx)(je.Z,{size:"small",onClick:d,children:"Learn More"})})]})},ke="Y9z_sNy6nOOvjewXvQPs bsoLiHy47agyjE9Ts3pd",Fe=()=>{const e=(0,s.v9)(J);return(0,s.v9)(re)?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(Oe,{}),(0,ue.jsxs)(fe.ZP,{container:!0,children:[(0,ue.jsx)(ge.Z,{className:ke,variant:"rectangular"}),(0,ue.jsx)(ge.Z,{className:ke,variant:"rectangular"}),(0,ue.jsx)(ge.Z,{className:ke,variant:"rectangular"}),(0,ue.jsx)(ge.Z,{className:ke,variant:"rectangular"})]})]}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(Oe,{}),(0,ue.jsx)(fe.ZP,{container:!0,children:e.map((e=>(0,ue.jsx)(Ne,{className:"bsoLiHy47agyjE9Ts3pd",id:e},e)))}),(0,ue.jsx)("footer",{className:"BVUwFUwocH4NevVSZt3C",children:(0,ue.jsx)(ve,{})})]})},Ue=a.p+"22d3024dfc7613aaadd1f1e5ec7e6896.jpeg",Te=()=>(0,ue.jsx)("div",{children:(0,ue.jsx)("img",{className:"Y_9_ZzDd2yMEAEuCtSMF",src:Ue,alt:"Damn!"})}),Se=(0,i.w)((()=>(0,ue.jsx)(pe,{children:(0,ue.jsx)(l.DU,{routerSelector:$,store:he,history:ie,enableTimeTravelling:!0,children:(0,ue.jsxs)(o.Z5,{children:[(0,ue.jsx)(o.AW,{path:X.home,element:(0,ue.jsx)(Fe,{})}),(0,ue.jsx)(o.AW,{path:X.details,element:(0,ue.jsx)(Te,{})})]})})}))),Le=document.getElementById("root");(0,t.s)(Le).render((0,ue.jsx)(s.zt,{store:he,children:(0,ue.jsx)(Se,{})}))}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(r,a,t,s)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,t,s]=e[d],l=!0,o=0;o<a.length;o++)(!1&s||i>=s)&&Object.keys(n.O).every((e=>n.O[e](a[o])))?a.splice(o--,1):(l=!1,s<i&&(i=s));if(l){e.splice(d--,1);var c=t();void 0!==c&&(r=c)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,t,s]},n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var s=Object.create(null);n.r(s);var i={};r=r||[null,a({}),a([]),a(a)];for(var l=2&t&&e;"object"==typeof l&&!~r.indexOf(l);l=a(l))Object.getOwnPropertyNames(l).forEach((r=>i[r]=()=>e[r]));return i.default=()=>e,n.d(s,i),s},n.d=(e,r)=>{for(var a in r)n.o(r,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{var e={179:0};n.O.j=r=>0===e[r];var r=(r,a)=>{var t,s,[i,l,o]=a,c=0;if(i.some((r=>0!==e[r]))){for(t in l)n.o(l,t)&&(n.m[t]=l[t]);if(o)var d=o(n)}for(r&&r(a);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},a=globalThis.webpackChunkstar_wars=globalThis.webpackChunkstar_wars||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var i=n.O(void 0,[736],(()=>n(49668)));i=n.O(i)})();